<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Settings</title>
  <style>
    body {
      font-family: 'Comic Sans MS', sans-serif;
      background: url("background1.jpg") no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 0;
      color: #2e2e2e;
      transition: background 0.3s, color 0.3s;
    }
    body.dark-mode {
      background: #1e1e1e;
      color: #f1f1f1;
    }




    .settings-container { max-width: 600px; margin: 20px auto; padding: 20px; }
    h1 { font-size: 2em; text-align: center; margin-bottom: 20px; }




    .card {
      background: #fdeedc;
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
      transition: background 0.3s;
    }
    body.dark-mode .card { background: #333; }




    .card h2 { font-size: 1.3em; margin-bottom: 10px; }
    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 20px;
      border: 1px solid #ccc;
      font-size: 1em;
    }
    input[type="range"] { width: 100%; }




    button {
      display: block;
      width: 100%;
      padding: 12px;
      margin-top: 15px;
      font-size: 1.1em;
      background: #ffcc00;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 3px 6px rgba(0,0,0,0.2);
      transition: background 0.3s;
    }
    button:hover { background: #ffdb4d; }




    .back-btn {
      position: absolute;
      top: 15px;
      left: 15px;
      background: #444;
      color: white;
      padding: 10px 20px;
      font-size: 1em;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: background 0.3s;
    }
    .back-btn:hover { background: #222; }




    details { margin-bottom: 15px; }
    details summary { cursor: pointer; font-weight: bold; font-size: 1.1em; }




    /* Notification Popup */
    .popup {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #fff;
      color: #333;
      padding: 15px 20px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      display: none;
      font-weight: bold;
      z-index: 9999;
      transition: all 0.3s;
    }
    body.dark-mode .popup { background: #333; color: #fff; }
  </style>
</head>
<body>




  <!-- Back to Dashboard -->
  <a href="index.html" class="back-btn">‚¨Ö Back to Dashboard</a>




  <div class="settings-container">
    <h1>‚öôÔ∏è Settings</h1>




    <div class="card">
      <details open>
        <summary>User Settings</summary>
        <p>üë§ Username: <input id="usernameInput" type="text" placeholder="Enter new username"></p>
        <p>üîí Password: <input id="passwordInput" type="password" placeholder="Enter new password"></p>
        <p>Account: <input id="accountInput" type="text" placeholder="Update account"></p>
        <p>Data & Privacy:
          <select id="privacySelect">
            <option value="Public">Public</option>
            <option value="Private">Private</option>
          </select>
        </p>
        <p>Content & Social:
          <select id="contentSelect">
            <option value="Allow">Allow</option>
            <option value="Restrict">Restrict</option>
          </select>
        </p>
        <p>Family Center:
          <select id="familySelect">
            <option value="Enabled">Enabled</option>
            <option value="Disabled">Disabled</option>
          </select>
        </p>
      </details>
    </div>




    <div class="card">
      <details>
        <summary>App Settings</summary>
        <p>Appearance:
          <select id="appearanceSelect">
            <option value="light">Light</option>
            <option value="dark">Dark</option>
          </select>
        </p>
        <p>Notifications:
          <select id="notificationsSelect">
            <option value="Enable">Enable</option>
            <option value="Disable">Disable</option>
          </select>
        </p>
        <p>Volume: <input id="volumeInput" type="range" min="0" max="100" value="50"></p>
        <p>Language:
          <select id="languageSelect">
            <option value="English">English</option>
          </select>
        </p>
        <p>Text-To-Speech:
          <select id="ttsSelect">
            <option value="On">On</option>
            <option value="Off">Off</option>
          </select>
        </p>
      </details>
    </div>




    <div class="card">
      <details>
        <summary>Activity Settings</summary>
        <p>Activity Privacy:
          <select id="activityPrivacySelect">
            <option value="Public">Public</option>
            <option value="Friends Only">Friends Only</option>
            <option value="Private">Private</option>
          </select>
        </p>
      </details>
    </div>




    <button class="save-btn" id="saveBtn">üíæ Save Changes</button>
  </div>




  <div class="popup" id="popupMessage">Settings saved successfully! üéâ</div>




 <script>
  function applyTheme(theme) {
    document.body.classList.toggle('dark-mode', theme === 'dark');
  }




  function showPopup(message) {
    const popup = document.getElementById('popupMessage');
    popup.innerText = message;
    popup.style.display = 'block';
    setTimeout(() => popup.style.display = 'none', 1500);
  }




  function readSettings() {
    try { return JSON.parse(localStorage.getItem('sensoryspaceSettings')) || {}; }
    catch { return {}; }
  }




  function saveSettings() {
    const settings = {
      username: document.getElementById('usernameInput').value,
      password: document.getElementById('passwordInput').value,
      notifications: document.getElementById('notificationsSelect').value,
      appearance: document.getElementById('appearanceSelect').value,
      volume: document.getElementById('volumeInput').value,
      language: document.getElementById('languageSelect').value,
      tts: document.getElementById('ttsSelect').value,
      account: document.getElementById('accountInput').value,
      privacy: document.getElementById('privacySelect').value,
      content: document.getElementById('contentSelect').value,
      family: document.getElementById('familySelect').value,
      activityPrivacy: document.getElementById('activityPrivacySelect').value
    };
    localStorage.setItem('sensoryspaceSettings', JSON.stringify(settings));
    applyTheme(settings.appearance);
  }




  function loadSettings() {
    const s = readSettings();
    if (s.username !== undefined) document.getElementById('usernameInput').value = s.username;
    if (s.password !== undefined) document.getElementById('passwordInput').value = s.password;
    if (s.notifications) document.getElementById('notificationsSelect').value = s.notifications;
    if (s.appearance) document.getElementById('appearanceSelect').value = s.appearance;
    if (s.volume !== undefined) document.getElementById('volumeInput').value = s.volume;
    if (s.language) document.getElementById('languageSelect').value = s.language;
    if (s.tts) document.getElementById('ttsSelect').value = s.tts;
    if (s.account !== undefined) document.getElementById('accountInput').value = s.account;
    if (s.privacy) document.getElementById('privacySelect').value = s.privacy;
    if (s.content) document.getElementById('contentSelect').value = s.content;
    if (s.family) document.getElementById('familySelect').value = s.family;
    if (s.activityPrivacy) document.getElementById('activityPrivacySelect').value = s.activityPrivacy;
    applyTheme(s.appearance);
  }




  function debounce(fn, wait) {
    let t; return (...args) => { clearTimeout(t); t = setTimeout(() => fn(...args), wait); };
  }
  const autoSave = debounce(() => { saveSettings(); }, 300);




  document.addEventListener('DOMContentLoaded', () => {
    loadSettings();




    // Auto-save on any change
    document.querySelectorAll('input, select').forEach(el => {
      const evt = el.tagName === 'SELECT' || el.type === 'checkbox' ? 'change' : 'input';
      el.addEventListener(evt, () => {
        autoSave();
      });
    });




    // Optional manual save button keeps working
    document.getElementById('saveBtn').addEventListener('click', () => {
      saveSettings();
      showPopup('Settings saved successfully! üéâ');
    });
  });
</script>
</body>
</html>









